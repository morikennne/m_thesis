# SWITCH 方式におけるしきい値の決定方法に関して
修正点として，以下の 2 点を挙げられていました．

1) (16,1)のセグメント数だけで決めるのは正当性がない
2) AGGRESSIVE と CONSERVATIVE の割合ではなく，タグ比較回数と性能低下のバランスを見て決めるべきである


## 1) に関して
自分もその通りであると考えています．セグメント数ごとに最適なしきい値を評価します．修論には，最も最適なセグメントの組み合わせ(現在(8,2))の場合に関してしきい値の評価を行い，他のセグメント数に関しても，同様の評価を appendix に載せる形式にしようと思います．


## 2) に関して
これに関しては AGGRESSIVE と CONSERVATIVE の割合で評価するべきではないかと考えています．

SWITCH 方式は，「ILP もしくは MLP の高いベンチマークにおいては，提案手法の容量効率の低下による性能低下が激しくおこる "可能性がある" ため，CONSERVATIVE モードで実行する」という制御となっています．ここで，"可能性がある"というのは，提案手法では，容量効率の低下にともなう発行コンフリクトの緩和による性能向上も発生するため，ILP や MLP の高いベンチマークにおいても必ず性能が低下するというわけではないことを意味しています．

SWIRCH 方式における制御では，ILP と MLP のみ評価を行い，この発行コンフリクトの緩和の影響に関しては評価を行っていません．従って，SWITCH 方式は，「ILP か MLP が高い場合は，性能低下するかもしれないので CONSERVATIVE モードで実行しておこう」という制御であると考えています．

以上の理由から，しきい値の評価を性能低下とタグ比較回数のバランスで評価することは適切ではないと考えます．つまり，SWITCH 方式は，(極端に言うと)性能低下するかしないかに関わらず，ILP もしくは MLP が高い場合には CONSERVATIVE モードで実行すべきであり，これを正しく評価できるのは，性能低下とタグ比較回数のバランスではなく，AGGRESSIVE と CONSERVATIVE の割合であると考えています．

具体的に，性能低下とタグ比較回数のバランスで決定した場合にどうなるかと言うと，ILP の高いベンチマークのうち，提案手法による性能低下がある程度発生するベンチマークは 3 つであり，その 3 つのベンチマークのみ CONSERVATIVE モードで実行すれば良いことになります．

この場合， IPC 4.5 〜 5.0 程度が適当なしきい値となります．そうすると，IPC が 3.5 〜 4.5 程度のベンチマークにおいては ILP が高いベンチマークに分類されるにもかかわらず，半分以上の割合を AGGRESSIVE モードで実行します． 

今回測定するベンチマークにおいてはこれで良いとなりますが，このしきい値は，ILP が高い場合に CONSERVATIVE モードで実行するという目的に対して，一般性のある妥当なしきい値とは言い難く感じます．(ILP 3.5〜4.5 程度の ILP の高いプログラムで，かつ発行コンフリクトの緩和による性能向上が小さいような場合に対応できない設定となる)


## まとめ
修正点の 2) は，AGGRESSIVE と CONSERVATIVE の割合で評価するのが適切ではないかと感じるのですが，どのようにすればよいでしょうか？